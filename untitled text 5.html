<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>QCM – Communication de crise</title>

<style>
body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    height: 100vh;
    overflow: hidden;
}

/* === LAYOUT GLOBAL === */
.container {
    display: flex;
    height: 100vh;
}

/* === COLONNE GAUCHE (VIDÉO) === */
.video-panel {
    width: 45%;
    background: #111;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.video-panel h1 {
    color: #fff;
    margin-bottom: 15px;
    text-align: center;
}

.video-wrapper {
    width: 100%;
    aspect-ratio: 16 / 9;
}

iframe {
    width: 100%;
    height: 100%;
    border-radius: 12px;
}

/* === COLONNE DROITE (QCM) === */
.quiz-panel {
    width: 55%;
    background: #f4f6f8;
    padding: 25px;
    overflow-y: auto; /* SCROLL INDÉPENDANT */
}

.quiz {
    max-width: 900px;
    margin: auto;
    background: #fff;
    border-radius: 16px;
    padding: 25px;
    box-shadow: 0 10px 30px rgba(0,0,0,.2);
    animation: fadeIn 1s ease;
}

.question {
    margin-bottom: 20px;
}

.question h3 {
    margin-bottom: 10px;
}

.options label {
    display: block;
    padding: 8px 12px;
    border-radius: 8px;
    margin-bottom: 6px;
    cursor: pointer;
    transition: .3s;
}

.options label:hover {
    background: #eef2f5;
}

.correct {
    background-color: #c8f7c5 !important;
}

.incorrect {
    background-color: #f7c5c5 !important;
}

/* === BOUTONS === */
.buttons {
    text-align: center;
    margin-top: 30px;
}

button {
    padding: 10px 22px;
    margin: 8px;
    border-radius: 20px;
    border: none;
    font-size: 15px;
    cursor: pointer;
    transition: .3s;
}

button:disabled {
    opacity: .5;
    cursor: not-allowed;
}

#check { background: #2ecc71; color: #fff; }
#reset { background: #e67e22; color: #fff; }
#correction { background: #3498db; color: #fff; }

.score {
    text-align: center;
    font-size: 22px;
    margin-top: 20px;
    font-weight: bold;
}

/* === ANIMATION === */
@keyframes fadeIn {
    from {opacity:0; transform: translateY(20px);}
    to {opacity:1; transform: translateY(0);}
}
</style>
</head>

<body>

<div class="container">

    <!-- === GAUCHE : VIDÉO === -->
    <div class="video-panel">
        <h1>Communication de crise</h1>
        <div class="video-wrapper">
            <iframe 
            width="560" 
            height="315" 
            src="https://www.youtube-nocookie.com/embed/5-PdQAxpIZQ?rel=0&modestbranding=1&enablejsapi=1" 
            title="YouTube video player" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            allowfullscreen>
        </iframe>
        </div>
    </div>

    <!-- === DROITE : QCM (SCROLL INDÉPENDANT) === -->
    <div class="quiz-panel">

        <div class="quiz" id="quiz"></div>

        <div class="buttons">
            <button id="check" disabled>Vérifier les réponses</button>
            <button id="correction" disabled>Voir le corrigé</button>
            <button id="reset">Réinitialiser l'exercice</button>
        </div>

        <div class="score" id="score"></div>

    </div>
</div>

<script>
const questions = [
{q:"Quel est l’objectif principal du recensement des crises ?", o:["Prévoir toutes les crises possibles","Réduire l’effet de surprise","Éliminer les risques","Créer des scénarios médiatiques"], a:1},
{q:"Que permet la simulation des conséquences ?", o:["Anticiper les réactions médiatiques","Former les journalistes","Éviter toute crise","Supprimer les conflits"], a:0},
{q:"La cellule de crise est avant tout :", o:["Un service juridique","Un outil de communication externe","Le cœur décisionnel","Un organe consultatif"], a:2},
{q:"Quel élément n’est PAS une caractéristique de la cellule de crise ?", o:["Analyse rapide","Lieu ouvert au public","Accès contrôlé","Décision collective"], a:1},
{q:"La check-list sert principalement à :", o:["Informer les médias","Rassurer les équipes","Remplacer le plan","Former le porte-parole"], a:1},

{q:"Le plan de communication définit :", o:["Les sanctions","Les objectifs et messages","Les fautes à éviter","Les responsabilités juridiques"], a:1},
{q:"Une qualité attendue du plan est :", o:["Rigidité","Flexibilité","Complexité","Détail excessif"], a:1},
{q:"La préparation approfondie des messages correspond à :", o:["Un communiqué bref","Une réponse improvisée","Un dossier de presse","Une rumeur contrôlée"], a:2},
{q:"À l’oral, un discours efficace exige :", o:["Longueur","Brièveté","Imprécision","Spontanéité totale"], a:1},
{q:"À l’écrit, on attend surtout :", o:["Émotion","Imagination","Rigueur factuelle","Humour"], a:2},

{q:"L’organisation relationnelle commence par :", o:["La diffusion des messages","L’identification des interlocuteurs","La gestion des réseaux","La rédaction du communiqué"], a:1},
{q:"Les attentes principales des publics sont :", o:["Silence et secret","Information et protection","Divertissement","Neutralité"], a:1},
{q:"Une communication crédible repose sur :", o:["La régularité","La surprise","La dissimulation","La vitesse seule"], a:0},
{q:"Le préfet attend une communication :", o:["Empathique","Institutionnelle","Émotionnelle","Publicitaire"], a:1},
{q:"Les journalistes privilégient une communication :", o:["Empathique","Institutionnelle","Factuelle","Technique"], a:2},

{q:"Le recensement classe les crises par :", o:["Gravité uniquement","Thèmes","Chronologie","Responsables"], a:1},
{q:"Une crise évolue en temps réel, cela implique :", o:["Rigidité","Doute accepté","Silence","Automatisation"], a:1},
{q:"La simulation permet surtout de :", o:["Créer une crise","Révéler les failles","Former le public","Limiter la presse"], a:1},
{q:"Un exemple de crise technique est :", o:["Cyberattaque","Conflit social","Rumeur","Scandale moral"], a:0},
{q:"Une crise humaine est souvent liée à :", o:["La machine","L’environnement","Les comportements","La finance"], a:2},

{q:"La communication post-crise vise :", o:["L’urgence","Le rebondissement","Le retour à la normale","La rupture"], a:2},
{q:"Une crise bien gérée repose d’abord sur :", o:["La chance","La préparation","La rapidité médiatique","Le secret"], a:1},
{q:"Le message central doit être :", o:["Flou","Stable","Multiple","Secondaire"], a:1},
{q:"Le rôle du porte-parole est :", o:["Décider","Informer publiquement","Juger","Sanctionner"], a:1},
{q:"La cellule de crise reconnaît :", o:["Une rumeur","La gravité officielle","Un échec","Une opportunité"], a:1}
];

const quiz = document.getElementById("quiz");
questions.forEach((q,i)=>{
    let div=document.createElement("div");
    div.className="question";
    div.innerHTML=`<h3>${i+1}. ${q.q}</h3>`;
    let opts=document.createElement("div");
    opts.className="options";
    q.o.forEach((opt,j)=>{
        opts.innerHTML+=`<label><input type="radio" name="q${i}" value="${j}"> ${opt}</label>`;
    });
    div.appendChild(opts);
    quiz.appendChild(div);
});

const checkBtn=document.getElementById("check");
const corrBtn=document.getElementById("correction");
const resetBtn=document.getElementById("reset");
const scoreDiv=document.getElementById("score");

quiz.addEventListener("change",()=>{
    const answered=[...document.querySelectorAll("input[type=radio]:checked")].length;
    checkBtn.disabled = answered !== questions.length;
});

checkBtn.onclick=()=>{
    let score=0;
    questions.forEach((q,i)=>{
        const sel=document.querySelector(`input[name=q${i}]:checked`);
        if(sel){
            const label=sel.parentElement;
            if(parseInt(sel.value)===q.a){
                label.classList.add("correct");
                score++;
            } else {
                label.classList.add("incorrect");
            }
        }
    });
    scoreDiv.textContent=`Score : ${score} / 25`;
    corrBtn.disabled=false;
};

corrBtn.onclick=()=>{
    questions.forEach((q,i)=>{
        document.querySelectorAll(`input[name=q${i}]`).forEach(l=>{
            if(parseInt(l.value)===q.a){
                l.parentElement.classList.add("correct");
            }
        });
    });
};

resetBtn.onclick=()=>location.reload();
</script>

</body>
</html>
